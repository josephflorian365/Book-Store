<mat-toolbar>
    <span>Mi Tienda Online</span>

    <button mat-button routerLink="/" class="ms-3">
        Inicio
    </button>
    <button mat-button routerLink="/books" class="ms-3">
        Libros
    </button>
    <button mat-button routerLink="/admin/books" class="ms-3">
        Administrar
    </button>
    <span class="spacer"></span>
    <button mat-icon-button [matMenuTriggerFor]="cartMenu" [matBadge]="cartItems.length" class="me-2">
        <mat-icon>shopping_cart</mat-icon>
    </button>

    <mat-menu #cartMenu="matMenu">
        <ng-container *ngIf="cartItems.length; else cartIsEmptyButton">
            <button mat-menu-item *ngFor="let item of cartItems">
                <div class="d-flex gap-2 py-2">
                    <img [src]="item.coverPath | apiImg" alt="" class="mw-96px">
                    <div>
                        <div class="fw-bold"> {{ item.title }} </div>
                        <p> {{ item.price | currency }} </p>
                    </div>
                </div>
            </button>
            <button mat-menu-item class="justify-content-center" routerLink="/cart">
                Ir a carrito
            </button>
        </ng-container>

        <ng-template #cartIsEmptyButton>
            <button mat-menu-item class="justify-content-center">
                El carrito está vacío
            </button>
        </ng-template>
    </mat-menu>
    <button mat-button [matMenuTriggerFor]="userMenu">
        <mat-icon>account_circle</mat-icon> Pedrito
    </button>

    <mat-menu #userMenu="matMenu">
        <button mat-menu-item>
            <mat-icon>logout</mat-icon> Cerrar Sesión
        </button>
    </mat-menu>
</mat-toolbar>


<router-outlet></router-outlet>